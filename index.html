<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<script src="js/jquery-1.12.3.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/FileSaver.js"></script>
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<title>
		Анкета для оценки уровня школьной мотивации
	</title>
	<style media="screen">
		body {
			padding-top: 30px;
		}
	</style>
</head>
<body>
	<div class="container">
		<div class="row">
			<div class="col-xs-offset-2 col-xs-8">
				<h3>Введите свои данные: Фамилия Имя Отчество.</h3>
				<div class="form-group" >
   					<input type="text" class="form-control" id="fio" placeholder="Фамилия Имя Отчество">
				</div>
				<h3>Выберите в каждом вопросе один из трех вариантов ответа.</h3>
				<br>
				<div class="form-group" >
					<h4>
						1.	Тебе нравится в школе? 
					</h4>
					<div class="radio">
						<label>
							<input type="radio" name="a" value="0">
							не очень 
						</label>
					</div>
					<div class="radio">
						<label>
							<input type="radio" name="a" value="1">
							нравится
						</label>
					</div>
					<div class="radio">
						<label>
							<input type="radio" name="a" value="2">
							не нравится
						</label>
					</div>
				</div>

				<div class="form-group">
					<h4>2.	Утром, когда ты просыпаешься, ты всегда с радостью идешь в школу или тебе часто хочется остаться дома?</h4>
					<div class="radio">
						<label>
							<input type="radio" name="b" value="0">
							чаще хочется остаться дома
						</label>
					</div>
					<div class="radio">
						<label>
							<input type="radio" name="b" value="1">
							бывает по-разному
						</label>
					</div>
					<div class="radio">
						<label>
							<input type="radio" name="b" value="2">
							иду с радостью
						</label>
					</div>
				</div>

				<div class="form-group">
					<h4>3.	Если бы учитель сказал, что завтра в школу не обязательно приходить всем ученикам, что желающие могут остаться дома, ты пошел/пошла бы в школу или остался/осталась дома? </h4>
					<div class="radio">
						<label>
							<input type="radio" name="c" value="0">
							не знаю
						</label>
					</div>
					<div class="radio">
						<label>
							<input type="radio" name="c" value="1">
							остался бы дома
						</label>
					</div>
					<div class="radio">
						<label>
							<input type="radio" name="c" value="2">
							пошел бы в школу
						</label>
					</div>
				</div>

				<div class="form-group">
					<h4>4.	Тебе нравится, когда у вас отменяют какие-нибудь уроки?</h4>
					<div class="radio">
						<label>
							<input type="radio" name="d" value="0">
							не нравится
						</label>
					</div>
					<div class="radio">
						<label>
							<input type="radio" name="d" value="1">
							бывает по-разному
						</label>
					</div>
					<div class="radio">
						<label>
							<input type="radio" name="d" value="2">
							нравится
						</label>
					</div>
				</div>

				<div class="form-group">
					<h4>5.	Ты хотел(а) бы, чтобы тебе не задавали домашних заданий? </h4>
					<div class="radio">
						<label>
							<input type="radio" name="e" value="0">
							хотел бы
						</label>
					</div>
					<div class="radio">
						<label>
							<input type="radio" name="e" value="1">
							не хотел бы
						</label>
					</div>
					<div class="radio">
						<label>
							<input type="radio" name="e" value="2">
							не знаю
						</label>
					</div>
				</div>

				<div class="form-group">
					<h4>6.	Ты хотел(а) бы, чтобы в школе остались одни перемены? </h4>
					<div class="radio">
						<label>
							<input type="radio" name="f" value="0">
							не знаю
						</label>
					</div>
					<div class="radio">
						<label>
							<input type="radio" name="f" value="1">
							не хотел бы
						</label>
					</div>
					<div class="radio">
						<label>
							<input type="radio" name="f" value="2">
							хотел бы
						</label>
					</div>
				</div>

				<div class="form-group">
					<h4>7.	Ты часто рассказываешь о школе родителям? </h4>
					<div class="radio">
						<label>
							<input type="radio" name="g" value="0">
							часто
						</label>
					</div>
					<div class="radio">
						<label>
							<input type="radio" name="g" value="1">
							редко
						</label>
					</div>
					<div class="radio">
						<label>
							<input type="radio" name="g" value="2">
							не рассказываю
						</label>
					</div>
				</div>

				<div class="form-group">
					<h4>8.	Ты хотел(а) бы, чтобы у тебя был менее строгий учитель? </h4>
					<div class="radio">
						<label>
							<input type="radio" name="k" value="0">
							точно не знаю
						</label>
					</div>
					<div class="radio">
						<label>
							<input type="radio" name="k" value="1">
							хотел бы
						</label>
					</div>
					<div class="radio">
						<label>
							<input type="radio" name="k" value="2">
							не хотел бы
						</label>
					</div>
				</div>

				<div class="form-group">
					<h4>9.	У тебя в классе много друзей? </h4>
					<div class="radio">
						<label>
							<input type="radio" name="l" value="0">
							мало
						</label>
					</div>
					<div class="radio">
						<label>
							<input type="radio" name="l" value="1">
							много
						</label>
					</div>
					<div class="radio">
						<label>
							<input type="radio" name="l" value="2">
							нет друзей
						</label>
					</div>
				</div>

				<div class="form-group">
					<h4>10.	Тебе нравятся твои одноклассники? </h4>
					<div class="radio">
						<label>
							<input type="radio" name="m" value="0">
							нравятся
						</label>
					</div>
					<div class="radio">
						<label>
							<input type="radio" name="m" value="1">
							не очень
						</label>
					</div>
					<div class="radio">
						<label>
							<input type="radio" name="m" value="2">
							не нравятся
						</label>
					</div>
				</div>

				<div class="form-group" align="center">
					<button class='btn btn-success' id='show-answer' data-toggle="modal" data-target="#myModal">Показать ответ</button>
				</div>

				<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				  <div class="modal-dialog">
				    <div class="modal-content">
				      <div class="modal-header" align="center">
				        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
				        <h4 class="modal-title" id="myModalLabel">
				        	<label>Результат:</label>
							<label id='points'></label>
						</h4>
				      </div>
				      <div class="modal-body">
								<div id='result-cointainer'>
									<div id='result'></div>
									<hr>
									<b><div id='result-fio'></div></b>
								</div>
				      </div>
				      <div class="modal-footer">
				        <a href="index.html"><button type="button" class="btn btn-primary">Пройти тест заново!</button></a>
				      </div>
				    </div>
				  </div>
				</div>			
			</div>
		</div>
	</div>



	<script type="text/javascript">
		$('#result-cointainer').hide();
// Тут забиваем результаты
var results = [
'Негативное отношение к школе, школьная дезадаптация. Скорее всего, у Вас серьезные трудности в обучении: Вы не справляетесь с учебной деятельностью, испытываете проблемы в общении с одноклассниками, во взаимоотношениях с учителем. Школа нередко воспринимается Вами как враждебная среда, пребывание в которой для Вас затруднительно. Старайтесь не проявлять агрессию, выполняйте задания, следуйте тем или иным нормам и правилам.',
'Низкая школьная мотивация. Скорее всего, Вы посещаете школу неохотно, предпочитаете пропускать занятия. На уроках, возможно, часто занимаетесь посторонними делами, играми. Старайтесь быть более целеустремленными, уделять больше времени учебе!',
'Положительное отношение к школе, но школа привлекает Вас больше внеучебной деятельностью. Вы достаточно благополучно чувствуете себя в школе, однако, скорее всего, чаще ходите в школу, чтобы общаться с друзьями, с учителем. Вам нравится ощущать себя учеником, иметь красивый портфель, ручки, тетради. Но, возможно, познавательные мотивы у Вас сформированы в меньшей степени, и учебный процесс Вас мало привлекает.',
'Хорошая школьная мотивация. Вы успешно справляетесь с учебной деятельностью, но не всегда четко соблюдаете предЬявляемые  требования учителя. Подобный уровень мотивации является средней нормой. ',
'Высокий уровень школьной мотивации, учебной активности. У Вас есть познавательный мотив, стремление наиболее успешно выполнять все предъявляемые школой требования. Вы четко следуете всем указаниям учителя, добросовестны и ответственны, сильно переживаете, если получаете неудовлетворительные оценки.'
];
$('#show-answer').click(function(){
	$('#result-cointainer').show();
  // ответы будут соотвествовать алфавитному порядку
  var answers = getAnswers();
  sum = 0;
  for (var i = 0; i < answers.length; i++) sum += countValue(answers[i], i);
  	$('#points').text(sum);
  // нужно просто выводить тот или иной результат при правильных условиях
  if (sum<10){
  	showResult(0);
  }else if (sum<15){
  	showResult(1);
  }else if (sum<20){
  	showResult(2);
  }else if (sum<25){
  	showResult(3);
  }else if (sum<=30){
  	showResult(4);
  }
});
function countValue(answer, ind){
	values = [
	[3,1,0],
	[1,3,0],
	[1,0,3],
	[3,1,0],
	[1,3,0],
	[0,3,1],
	[3,1,0],
	[1,0,3],
	[0,1,3],
	[1,3,0]
	]
	return values[ind][parseInt(answer)];
}
function showResult(ind){
	$('#result').text(results[ind]);
	var name = $('#fio').val();
	$('#result-fio').text(name);
	var text = name+'\n'+ 'Результат:' + ' ' + sum + '\n' + results[ind];
	var blob = new Blob([text], {type: "text/plain;charset=utf-8"});
	saveAs(blob, name + ".txt");
}
function getAnswers(){
	var result = []
	var inputNames = getQuestionNames();
	for (var i = inputNames.length - 1; i >= 0; i--) {
		num = inputNames[i];
		val = $('input:radio[name='+num+']').filter(":checked").val();
		result.push(val);
	}
	return result;
}
function getQuestionNames(){
	var result = [];
	$("input[type='radio']").each(function(){ result.push($(this).attr('name')) } );
	return $.uniqueSort(result);
}
</script>
</body>
</html>